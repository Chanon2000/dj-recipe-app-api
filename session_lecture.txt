[58. Importance of API documentation]

Why Document?
    - APIs are designed for developers to use
    - Need to know how to use it
    - An API is only as good as its documentation

What to document?
    - Everything needed to use thr API
    - Available endpoints (paths)
        # /api/recipes
    - Supported methods
        # GET, POST, PUT, PATCH, DELETE
    - Format of payloads (inputs)
        # Parameters
        # Post JSON format
    - Format of responses (outputs)
        # Response JSON format
    - Authentication process

Options for documentation
    Manual (คุณต้องจัดการ update docs ทุกครั้งที่มีการ update api)
        -Word doc
        -Markdown
    Automated
        -ใช้ metadata จาก code (comments) ที่ใส่ลง python code ซึ่งมันจะทำการ Generate documentation pages

In this section
    - Explore tools for making documentation seamless
    - Add documentation for our API

[59. Auto docs with DRF]

สร้าง automated documentation ด้วย Django rest framework (DRF)

Docs in DRF
    -Docs in DRF เป็น third party library ที่ทำให้เราสามารถ Auto generate docs ซึ่งตัว lib นั้นมีชื่อว่า "drf-spectacular" หรือก็คือ django rest framework spectacular เราจะใช้ตัวนี้เพื่อทำการ document api ของเรา
        # supports the open API 3.0 standard (คือ standard ล่าสุดในการ documenting API schemas)
        OpenAPI Schema คืออไร
            - คือ Standard for describing APIs
            - Popular in industry
            - Supported by most API documentation tools
            - Uses popular formats: YAML/JSON
    -Generates schema
    -Browsable web interface
        # Make test requests
        # Handle auth

How it works
    1. Generate "schema" file
    2. Parse schema into GUI

Using a Schema
    - Download and run in local Swagger instance
    - Serve Swagger with API

[60. Install drf-spectacular]

เมื่อใส่ package ที่ต้องการเพิ่มเข้าไปที่ requirements file ก็ให้ทำการ rebuild image โดย
'docker-compose build'

drf-spectacular install
docs: https://drf-spectacular.readthedocs.io/en/latest/readme.html#installation

drf-spectacular in Python
docs:https://pypi.org/project/drf-spectacular/

drf-spectacular docs
docs: https://drf-spectacular.readthedocs.io/en/latest/index.html

[61. Configure URLs]

ทำการ enable url ที่ทำการ serve documentation โดยผ่าน Django

[http://127.0.0.1:8000/api/docs/]

ไปที่ http://127.0.0.1:8000/api/docs/ ก็จะเจอหน้าจอ swagger เลย

ถ้าเราไป click ที่ api/schema มันจะทำการ download schema เป็น file ให้เรา